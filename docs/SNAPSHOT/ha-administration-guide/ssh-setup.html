
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Enabling Centralized Administration of GlassFish Server Instances</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>Enabling Centralized Administration of GlassFish Server Instances</b><br />
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="overview.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="nodes.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="GSHAG00003"></a><a id="gkshg"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-centralized-administration-of-glassfish-server-instances">2 Enabling Centralized Administration of GlassFish Server Instances</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GlassFish Server uses the Distributed Component Object Model (DCOM)
remote protocol or secure shell (SSH) to ensure that clusters that span
multiple hosts can be administered centrally. To perform administrative
operations on GlassFish Server instances that are remote from the domain
administration server (DAS), the DAS must be able to communicate with
those instances. If an instance is running, the DAS connects to the
running instance directly. For example, when you deploy an application
to an instance, the DAS connects to the instance and deploys the
application to the instance.</p>
</div>
<div class="paragraph">
<p>However, the DAS cannot connect to an instance to perform operations on
an instance that is not running, such as creating or starting the
instance. For these operations, the DAS uses DCOM or SSH to contact a
remote host and administer instances there. DCOM or SSH provides
confidentiality and security for data that is exchanged between the DAS
and remote hosts.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>The use of DCOM or SSH to enable centralized administration of remote
instances is optional. If the use of DCOM or SSH is not feasible in your
environment, you can administer remote instances locally.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gkshz">About Centralized Administration of GlassFish Server
Instances</a></p>
</li>
<li>
<p><a href="#CEGIFJJF">Setting Up DCOM and Testing the DCOM Set Up</a></p>
</li>
<li>
<p><a href="#gksiy">Setting Up Cygwin SSH on Windows</a></p>
</li>
<li>
<p><a href="#gkskf">Setting Up the MKS Toolkit on Windows</a></p>
</li>
<li>
<p><a href="#gksja">Setting Up SSH on UNIX and Linux Systems</a></p>
</li>
<li>
<p><a href="#gkslw">Testing the SSH Setup on a Host</a></p>
</li>
<li>
<p><a href="#gkshh">Setting Up SSH User Authentication</a></p>
</li>
<li>
<p><a href="#gkshn">Installing and Removing GlassFish Server Software on
Multiple Hosts</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gkshz"></a><a id="GSHAG00172"></a><a id="about-centralized-administration-of-glassfish-server-instances"></a></p>
</div>
<div class="sect2">
<h3 id="_about_centralized_administration_of_glassfish_server_instances">About Centralized Administration of GlassFish Server Instances</h3>
<div class="paragraph">
<p>The use of DCOM or SSH to enable centralized administration of remote
instances is optional and is required only for specific operations.
Instances local to the DAS can be administered without DCOM or SSH. If
DCOM or SSH is not practicable in your environment, you can administer
remote instances locally.</p>
</div>
<div class="paragraph">
<p><a id="GSHAG446"></a><a id="sthref4"></a></p>
</div>
<div class="sect3">
<h4 id="determining-whether-to-enable-centralized-administration">Determining Whether to Enable Centralized Administration</h4>
<div class="paragraph">
<p>Before setting up a GlassFish Server cluster, use the following
considerations to determine whether to enable centralized administration
of remote instances:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you are planning a large cluster of many instances, consider
enabling centralized administration of instances in the cluster.
Centralized administration of instances simplifies the administration of
the cluster by enabling you to perform all administrative operations on
the cluster and its instances from the DAS.</p>
</li>
<li>
<p>If you are planning a small cluster of few instances, consider whether
enabling centralized administration requires more effort than logging in
to individual hosts to administer remote instances locally.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>How you administer instances and the nodes on which they resides varies
depending on whether and how centralized administration is enabled. The
following table provides cross-references to instructions for
administering nodes and instances depending on the protocol that is used
for enabling centralized administration, if any.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;">
<col style="width: 42%;">
<col style="width: 43%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Node Administration Instructions</th>
<th class="tableblock halign-left valign-top">Instance Administration
Instructions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DCOM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="nodes.html#CHDBIHFJ">Creating, Listing, Testing, and Deleting
<code>DCOM</code> Nodes</a><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="instances.html#gkqal">Administering GlassFish Server
Instances Centrally</a><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="nodes.html#gkrkn">Creating, Listing, Testing, and Deleting
<code>SSH</code> Nodes</a><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="instances.html#gkqal">Administering GlassFish Server
Instances Centrally</a><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="nodes.html#gkrnp">Creating, Listing, and Deleting <code>CONFIG</code>
Nodes</a><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="instances.html#gkqdw">Administering GlassFish Server
Instances Locally</a><br></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="GSHAG447"></a><a id="sthref5"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="considerations-for-using-dcom-for-centralized-administration">Considerations for Using DCOM for Centralized Administration</h4>
<div class="paragraph">
<p>DCOM enables communications between Windows hosts. In a typical
GlassFish Server deployment, the DAS acts as a DCOM client, and hosts
where instances reside act as DCOM servers. To create or start an
instance on a remote host, the DAS instructs the DCOM server on the host
to start the <code>asadmin</code> utility of GlassFish Server. The <code>asadmin</code>
utility then performs the required operation on the host to create or
start the instance.</p>
</div>
<div class="paragraph">
<p>The DCOM service must be running on hosts where instances reside, but is
not required to be running on the DAS host. The DAS uses its own DCOM
client for communicating with hosts where instances reside. On Windows
hosts, the DCOM server is typically running by default as a Windows
Service.</p>
</div>
<div class="paragraph">
<p>DCOM is available only with the Windows operating system. Because DCOM
is typically installed and preconfigured, minimal additional setup is
required to use DCOM with GlassFish Server.</p>
</div>
<div class="paragraph">
<p>Before setting up DCOM, decide which Windows user GlassFish Server will
use when connecting to remote hosts. For the following reasons,
administration is simplest if the Windows user is the user that starts
the DAS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remote instances are started as the Windows user.</p>
</li>
<li>
<p>By default, the DAS assumes that the Windows user is the user that is
running the DAS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GSHAG320"></a><a id="sthref6"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="considerations-for-using-ssh-for-centralized-administration">Considerations for Using SSH for Centralized Administration</h4>
<div class="paragraph">
<p>In a typical GlassFish Server deployment, the DAS acts as the SSH
client, and hosts where instances reside act as SSH servers. The SSH
Server Daemon <code>sshd</code> must be running on hosts where instances reside,
but is not required to be running on the DAS host. The DAS uses its own
SSH client for communicating with hosts where instances reside. However,
to generate keys and test SSH setup, a native SSH client must be
installed on the DAS host.</p>
</div>
<div class="paragraph">
<p>The requirements for SSH configuration and user management are different
for each operating system on which GlassFish Server is supported.
Therefore, the use of SSH for centralized administration involves using
SSH tools to configure SSH on the operating system that you are using.</p>
</div>
<div class="paragraph">
<p>On UNIX and Linux systems, SSH is typically installed and preconfigured,
and requires minimal additional setup. On Windows systems, additional
setup is required to install and configure an SSH provider.</p>
</div>
<div class="paragraph">
<p><a id="gksmt"></a><a id="GSHAG00262"></a><a id="obtaining-ssh-software"></a></p>
</div>
<div class="sect4">
<h5 id="_obtaining_ssh_software">Obtaining SSH Software</h5>
<div class="paragraph">
<p>On UNIX and Linux systems, SSH software is typically installed as part
of the base operating system.</p>
</div>
<div class="paragraph">
<p>However, on Windows systems, you must install one of the following SSH
providers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.cygwin.com/">Cygwin</a> (<code>http://www.cygwin.com/</code>) release
1.7.6</p>
</li>
<li>
<p><a href="http://www.mkssoftware.com">MKS Toolkit for Developers</a>
(<code>http://www.mkssoftware.com</code>) release 9.2</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gkshj"></a><a id="GSHAG00263"></a><a id="determining-the-ssh-user"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_determining_the_ssh_user">Determining the SSH User</h5>
<div class="paragraph">
<p>Before setting up SSH, decide which SSH user GlassFish Server will use
when connecting to remote hosts. For the following reasons,
administration is simplest if the SSH user is the user that starts the
DAS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For public key authentication, the user that starts the DAS must be
able to read the SSH user&#8217;s private key file.</p>
</li>
<li>
<p>Remote instances are started as the SSH user.</p>
</li>
<li>
<p>By default, the DAS assumes that the SSH user is the user that is
running the DAS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="glghe"></a><a id="GSHAG00222"></a><a id="requirements-for-the-ssh-users-environment"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_requirements_for_the_ssh_user_s_environment">Requirements for the SSH User&#8217;s Environment</h5>
<div class="paragraph">
<p>The environment of the SSH user on any remote host to which the user
will connect must meet the requirements that are stated in
"<a href="../release-notes/release-notes.html#GSRLN00252">Paths and Environment Settings for the JDK Software</a>"
in GlassFish Server Open Source Edition Release Notes.</p>
</div>
<div class="paragraph">
<p>The SSH user&#8217;s environment on a host is set by the environment set-up
files that are run when the user uses SSH to run a command on the host.
You must ensure that these files set up the SSH user&#8217;s environment
correctly.</p>
</div>
<div class="paragraph">
<p>The files that are run when the user uses SSH to run a command are
different than the files that are run when the user logs in to a host.
For example, in the bash shell, <code>.profile</code> and <code>.bashrc</code> are run when
the user logs in, but only <code>.bashrc</code> is run when the user runs a
command. Therefore, in the bash shell, you must ensure that <code>.bashrc</code>
contains the required environment settings for the SSH user.</p>
</div>
<div class="paragraph">
<p><a id="glgfy"></a><a id="GSHAG00223"></a><a id="file-access-permissions-on-uac-enabled-windows-systems"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_file_access_permissions_on_uac_enabled_windows_systems">File Access Permissions on UAC-Enabled Windows Systems</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>The
<a href="http://technet.microsoft.com/en-us/library/cc709691%28WS.10%29.aspx">User
Account Control (UAC)</a>
(<code><a href="http://technet.microsoft.com/en-us/library/cc709691%28WS.10%29.aspx" class="bare">http://technet.microsoft.com/en-us/library/cc709691%28WS.10%29.aspx</a></code>)
feature is available only on some versions of the Windows operating
system, for example, Windows 7, Windows Vista, and Windows 2008.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You might be using a UAC-enabled Windows system and choose to store
files for GlassFish Server instances in a directory other than the SSH
user&#8217;s home directory. In this situation, the SSH user must have native
(that is, nonvirtual) read and write access to the file system where the
instances are to be stored. The OS-level administrator has such access
by default. You can also configure the system to grant such access to
other users. For more information, see the documentation for the Windows
operating system.</p>
</div>
<div class="paragraph">
<p><a id="CEGIFJJF"></a><a id="GSHAG448"></a><a id="setting-up-dcom-and-testing-the-dcom-set-up"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_dcom_and_testing_the_dcom_set_up">Setting Up DCOM and Testing the DCOM Set Up</h3>
<div class="paragraph">
<p>Setting up DCOM on a host involves the following tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Verifying Windows operating system settings for the host</p>
</li>
<li>
<p>Enabling the Windows user to run scripts on the host</p>
</li>
<li>
<p>Setting up password authentication for the Windows user on the host</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Set up DCOM on all hosts where instances in your cluster will reside.</p>
</div>
<div class="paragraph">
<p>After setting up DCOM on a host, test the connection over DCOM to the
host.</p>
</div>
<div class="paragraph">
<p><a id="CEGDAFHD"></a><a id="GSHAG449"></a><a id="windows-operating-system-settings"></a></p>
</div>
<div class="sect3">
<h4 id="_windows_operating_system_settings">Windows Operating System Settings</h4>
<div class="paragraph">
<p>To enable access to a host over DCOM, ensure that the following items in
the Windows operating system are set as follows on the host:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The following services are in the started state and are set to start
automatically:</p>
<div class="ulist">
<ul>
<li>
<p>Server</p>
</li>
<li>
<p>Remote Registry</p>
</li>
</ul>
</div>
</li>
<li>
<p>Network Access: Sharing security model for local accounts is set to
Classic.</p>
</li>
<li>
<p>The following ports are open:</p>
<div class="ulist">
<ul>
<li>
<p>DCOM port 135 or 139</p>
</li>
<li>
<p>Windows Shares port 445</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CEGCJGCF"></a><a id="GSHAG450"></a><a id="to-enable-the-windows-user-to-run-scripts-on-a-remote-host"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_enable_the_windows_user_to_run_scripts_on_a_remote_host">To Enable the Windows User to Run Scripts on a Remote Host</h4>
<div class="paragraph">
<p>To run scripts on a remote host, full control over the following Windows
registry keys must be allowed for the Windows user or the group that
contains the Windows user:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One of the following keys, depending on the processor architecture of
the host:</p>
<div class="ulist">
<ul>
<li>
<p>32-bit architecture:
HKEY_LOCAl_MACHINE\SOFTWARE\Classes\Wow6432Node\CLSID\{76A64158-CB41-11D1-8B02-00600806D9B6}</p>
</li>
<li>
<p>64-bit architecture:
HKEY_LOCAl_MACHINE\SOFTWARE\Classes\CLSID\{76A64158-CB41-11D1-8B02-00600806D9B6}</p>
</li>
</ul>
</div>
</li>
<li>
<p>HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{72C24DD5-D70A-438B-8A42-98424B88AFB8}</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In some versions of Windows, only the user <code>NT SERVICE\TrustedInstaller</code>
has full control over these Windows registry keys. If your version of
Windows is configured in this way, you must modify these keys to allow
full control over them for the Windows user or the group that contains
the Windows user.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the operating-system-level administrator user can edit the Windows
registry.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Perform this procedure for each Windows registry key that you are
modifying on each host where instances in your cluster will reside.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If necessary, start the Registry Editor.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>regedit.exe</pre>
</div>
</div>
<div class="paragraph">
<p>The Registry Editor window opens.
2.  In the Registry Editor window, navigate to the registry key that you
are modifying.
3.  Select the key, click mouse button 3, and from the pop-up menu that
opens, select Permissions.<br>
The Permissions window for the key opens.
4.  Determine whether full control is allowed for the Windows user or
the group that contains the Windows user.
* If full control is allowed, no further action is required.
* If full control is not allowed, allow full control as follows:
1.  In the Permissions window, click Advanced.<br>
The Advanced Security Settings window for the key opens.
2.  In the Advanced Security Settings window, select the Owner tab.
3.  From the Change owner to list, select the Windows user or the group
that contains the Windows user.
4.  Ensure that the Replace owner on subcontainer and objects option is
selected.
5.  Click Apply, then OK.<br>
The Advanced Security Settings window closes. The Permissions window
shows that full control is allowed for the Windows user or the group
that contains the Windows user.
6.  In the Permissions window, click OK.<br>
The Permissions window closes.
5.  After modifying all the Windows registry keys over which full
control is required, quit the Registry Editor.</p>
</div>
<div id="GSHAG451" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>Set up password authentication for the Windows user as explained in
<a href="#CEGCDCEF">To Set Up Password Authentication for the Windows User</a>.</p>
</div>
<div class="paragraph">
<p><a id="CEGCDCEF"></a><a id="GSHAG452"></a><a id="to-set-up-password-authentication-for-the-windows-user"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_up_password_authentication_for_the_windows_user">To Set Up Password Authentication for the Windows User</h4>
<div class="paragraph">
<p>When a GlassFish Server subcommand uses DCOM to log in to a remote host,
GlassFish Server requires the Windows user&#8217;s password to authenticate
the Windows user. To provide this password securely to GlassFish Server,
create a GlassFish Server password alias to represent the password and
store this alias in a password file that is passed to the
<a href="../reference-manual/asadmin.html#GSRFM00263"><code>asadmin</code></a> utility.</p>
</div>
<div id="GSHAG453" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the following prerequisites are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Windows user is a valid user on the host to which you are testing
the connection over DCOM.</p>
</li>
<li>
<p>Items in the Windows operating system are set on the host as described
in <a href="#CEGDAFHD">Windows Operating System Settings</a>.</p>
</li>
<li>
<p>The Windows user is able to run scripts on the host. For more
information, see <a href="#CEGCJGCF">To Enable the Windows User to Run
Scripts on a Remote Host</a>.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the DAS is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p><a id="CEGGAHFH"></a>
Create an alias for the Windows user&#8217;s password.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for creating a password
alias, see the <a href="../reference-manual/create-password-alias.html#GSRFM00049"><code>create-password-alias</code>(1)</a> help page.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; create-password-alias alias-name</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">alias-name</dt>
<dd>
<p>Your choice of name for the alias that you are creating.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>create-password-alias</code> subcommand prompts you to type the password
for which you are creating an alias.
3.  In response to the prompt, type the Windows user&#8217;s password.<br>
The <code>create-password-alias</code> subcommand prompts you to type the password
again.
4.  In response to the prompt, type the Windows user&#8217;s password again.
5.  Create a plain text file that contains the following entry for the
password alias:<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">AS_ADMIN_WINDOWSPASSWORD=${ALIAS=alias-name}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">alias-name</dt>
<dd>
<p>The alias name that you specified in Step <a href="#CEGGAHFH">2</a>.<br></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>When you create a <code>DCOM</code> node, pass this file as the <code>--passwordfile</code>
option of the <code>asadmin</code> utility. For more information, see
<a href="nodes.html#CHDIGBJB">To Create a <code>DCOM</code> Node</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="GSHAG454"></a><a id="sthref7"></a></p>
</div>
<div class="paragraph">
<p>Example 2-1 Creating an Alias for the Windows User&#8217;s Password</p>
</div>
<div class="paragraph">
<p>This example creates an alias that is named <code>winuser-password</code> for the
Windows user&#8217;s password.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ asadmin create-password-alias winuser-password
Enter the alias password&gt;
Enter the alias password again&gt;
Command create-password-alias executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The entry in the password file for the <code>winuser-password</code> alias is as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">AS_ADMIN_WINDOWSPASSWORD=${ALIAS=winuser-password}</code></pre>
</div>
</div>
<div id="GSHAG455" class="paragraph">
<p>See Also</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../reference-manual/asadmin.html#GSRFM00263"><code>asadmin</code>(1M)</a></p>
</li>
<li>
<p><a href="../reference-manual/create-password-alias.html#GSRFM00049"><code>create-password-alias</code>(1)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also view the full syntax and options of the subcommand by
typing <code>asadmin help create-password-alias</code> at the command line.</p>
</div>
<div id="GSHAG456" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>Test the DCOM setup as explained in <a href="#CEGJFADH">To Test the
Connection Over DCOM to a Remote Host</a>.</p>
</div>
<div class="paragraph">
<p><a id="CEGJFADH"></a><a id="GSHAG457"></a><a id="to-test-the-connection-over-dcom-to-a-remote-host"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_test_the_connection_over_dcom_to_a_remote_host">To Test the Connection Over DCOM to a Remote Host</h4>
<div class="paragraph">
<p>Testing the connection over DCOM to a remote host verifies that the
required Windows services are running, the required ports are open, and
the Windows user has a valid user account on the host.</p>
</div>
<div class="paragraph">
<p>Before attempting to perform any task that the requires the DAS contact
the DCOM server on a remote host, test the connection over DCOM to the
host. If this test fails, any attempt to perform a task that the
requires the DAS contact the DCOM server on the host will also fail.
Examples of such tasks are creating a DCOM node to represent the host or
creating an instance that resides on the host. For more information, see
<a href="nodes.html#CHDIGBJB">To Create a <code>DCOM</code> Node</a> and
<a href="instances.html#gkqch">To Create an Instance Centrally</a>.</p>
</div>
<div class="paragraph">
<p>If you cannot connect to the host over DCOM, troubleshoot the DCOM setup
before proceeding.</p>
</div>
<div id="GSHAG458" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the following prerequisites are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Windows user is a valid user on the host to which you are testing
the connection over DCOM.</p>
</li>
<li>
<p>Items in the Windows operating system are set on the host as described
in <a href="#CEGDAFHD">Windows Operating System Settings</a>.</p>
</li>
<li>
<p>The Windows user is able to run scripts on the host. For more
information, see <a href="#CEGCJGCF">To Enable the Windows User to Run
Scripts on a Remote Host</a>.</p>
</li>
<li>
<p>Password authentication is set up for the windows user as explained in
<a href="#CEGCDCEF">To Set Up Password Authentication for the Windows User</a>.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the DAS is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p>Run the <code>validate-dcom</code> subcommand.<br>
Specify the file that contains the alias for the Windows user&#8217;s password
through the <code>--passwordfile</code> option of the <code>asadmin</code> utility. For more
information about this file, see <a href="#CEGCDCEF">To Set Up Password
Authentication for the Windows User</a>.<br></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for configuring the
node, see the <a href="../reference-manual/validate-dcom.html#GSRFM796"><code>validate-dcom</code>(1)</a> help page.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">C:\&gt;asadmin --passwordfile filename validate-dcom host-name</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">filname</dt>
<dd>
<p>The name of the file that contains the alias for the Windows user&#8217;s
password.</p>
</dd>
<dt class="hdlist1">host-name</dt>
<dd>
<p>The name of the host to which you are testing the connection over
DCOM.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="GSHAG459"></a><a id="sthref8"></a></p>
</div>
<div class="paragraph">
<p>Example 2-2 Testing the Connection Over DCOM to a Remote Host</p>
</div>
<div class="paragraph">
<p>This example tests the connection over DCOM to the host <code>wpmdl2</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">C:\&gt; asadmin --passwordfile aspwalias.txt validate-dcom wpmdl2
Command validate-dcom executed successfully.</code></pre>
</div>
</div>
<div id="GSHAG460" class="paragraph">
<p>See Also</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../reference-manual/asadmin.html#GSRFM00263"><code>asadmin</code>(1M)</a></p>
</li>
<li>
<p><a href="../reference-manual/validate-dcom.html#GSRFM796"><code>validate-dcom</code>(1)</a></p>
</li>
<li>
<p><a href="#CEGDAFHD">Windows Operating System Settings</a></p>
</li>
<li>
<p><a href="#CEGCJGCF">To Enable the Windows User to Run Scripts on a Remote
Host</a></p>
</li>
<li>
<p><a href="nodes.html#CHDIGBJB">To Create a <code>DCOM</code> Node</a></p>
</li>
<li>
<p><a href="instances.html#gkqch">To Create an Instance Centrally</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also view the full syntax and options of the subcommand by
typing <code>asadmin help validate-dcom</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gksiy"></a><a id="GSHAG00173"></a><a id="setting-up-cygwin-ssh-on-windows"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_cygwin_ssh_on_windows">Setting Up Cygwin SSH on Windows</h3>
<div class="paragraph">
<p>Set up Cygwin SSH on the DAS host and on all hosts where instances in
your cluster will reside.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksjn">To Download and Install Cygwin</a></p>
</li>
<li>
<p><a href="#gksin">To Set the Path for Windows and for the Cygwin Shell</a></p>
</li>
<li>
<p><a href="#gksov">To Set the Home Directory for the Cygwin SSH User</a></p>
</li>
<li>
<p><a href="#gkskx">To Configure and Start the Cygwin SSH Server Daemon
<code>sshd</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gksjn"></a><a id="GSHAG00071"></a><a id="to-download-and-install-cygwin"></a></p>
</div>
<div class="sect3">
<h4 id="_to_download_and_install_cygwin">To Download and Install Cygwin</h4>
<div class="paragraph">
<p>For centralized GlassFish Server administration, a basic Cygwin
installation that includes the SSH client and the SSH server daemon
<code>sshd</code> is sufficient. The default installation options are sufficient to
create such a basic installation.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in as a user with Administrator privileges.</p>
</li>
<li>
<p>Create the folder <code>C:\cygwin</code>.</p>
</li>
<li>
<p>From the <a href="http://www.cygwin.com/">Cygwin home page</a>
(<code>http://www.cygwin.com/</code>), download and save the <code>setup.exe</code> file to
your desktop.</p>
</li>
<li>
<p>Run the <code>setup.exe</code> file.</p>
</li>
<li>
<p>Select the default for the following options:</p>
<div class="ulist">
<ul>
<li>
<p>Install from Internet</p>
</li>
<li>
<p>Install Root Directory: <code>C:\cygwin</code></p>
</li>
<li>
<p>Install for All Users</p>
</li>
</ul>
</div>
</li>
<li>
<p>Specify a folder for the local package directory that is not the
Cygwin root folder, for example, <code>C:\cygwin\packages</code>.</p>
</li>
<li>
<p>Specify the connection method.<br>
For example, if the host is connected to the Internet through a proxy
server, specify the proxy server.</p>
</li>
<li>
<p>Select the mirror site from which to download the software.</p>
</li>
<li>
<p>Select the <code>openssh</code> package for installation.</p>
</li>
<li>
<p>Under the Net category, search for <code>openssh</code>.</p>
</li>
<li>
<p>Locate the <code>openssh</code> package and click Skip.<br>
The package is selected.</p>
</li>
<li>
<p>Click Next.<br>
Any unsatisfied dependencies are listed.</p>
</li>
<li>
<p>Leave the Select Required Packages option selected and click Next<br>
The packages are installed.</p>
</li>
<li>
<p>Click Finish.</p>
</li>
</ol>
</div>
<div id="GSHAG321" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>For detailed information about installing Cygwin, see
"http://cygwin.com/cygwin-ug-net/setup-net.html#internet-setup[Internet
Setup]" in Cygwin User&#8217;s Guide
(<code>http://cygwin.com/cygwin-ug-net/setup-net.html#internet-setup</code>).</p>
</div>
<div class="paragraph">
<p><a id="gksin"></a><a id="GSHAG00072"></a><a id="to-set-the-path-for-windows-and-for-the-cygwin-shell"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_the_path_for_windows_and_for_the_cygwin_shell">To Set the Path for Windows and for the Cygwin Shell</h4>
<div class="paragraph">
<p>To enable GlassFish Server tools to find commands for SSH, each user&#8217;s
path for Windows and for the Cygwin shell must contain the following
directories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Cygwin <code>bin</code> directory, for example <code>C:\cygwin\bin</code></p>
</li>
<li>
<p>The <code>bin</code> directory of the JDK software</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in as a user with Administrator privileges.<br>
Logging in as a user with Administrator privileges ensures that the
change applies to all users.</p>
</li>
<li>
<p>In the System Information control panel, click Advanced&gt;Environment
Variables.</p>
</li>
<li>
<p>Add the following directories to the Path environment variable:</p>
</li>
</ol>
</div>
</li>
<li>
<p>The Cygwin <code>bin</code> directory, for example <code>C:\cygwin\bin</code></p>
</li>
<li>
<p>The <code>bin</code> directory of the JDK software</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gksov"></a><a id="GSHAG00073"></a><a id="to-set-the-home-directory-for-the-cygwin-ssh-user"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_the_home_directory_for_the_cygwin_ssh_user">To Set the Home Directory for the Cygwin SSH User</h4>
<div class="paragraph">
<p>The SSH Server Daemon <code>sshd</code> locates a user&#8217;s home directory from the
configuration in the user database, not from environment variables such
as <code>HOME</code>. To ensure that all GlassFish Server commands can run without
errors, each SSH user must be configured to have a home directory.</p>
</div>
<div class="paragraph">
<p>Each user on a Windows host where SSH is set up potentially has two home
directories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Windows home directory. GlassFish Server commands, which are run in a
Windows command window, use the Windows home directory.</p>
</li>
<li>
<p>SSH home directory. SSH commands, which are run in a shell such as
<code>bash</code> or <code>ksh</code>, use the SSH home directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If these home directories are different, GlassFish Server and SSH each
locate a user&#8217;s <code>.ssh</code> directory in different directories. To simplify
the set up of SSH, configure each user&#8217;s home directory for SSH and
Windows to be the same directory. A disadvantage of this approach is
that the SSH home directory has spaces in its path name. Spaces in path
names are cumbersome in the UNIX environment.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in as a user with Administrator privileges.</p>
</li>
<li>
<p>In the <code>c:\cygwin\etc\passwd</code> file, edit the home directory setting
for the SSH user to specify the user&#8217;s home directory for Windows.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="gkskx"></a><a id="GSHAG00074"></a><a id="to-configure-and-start-the-cygwin-ssh-server-daemon-sshd"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_configure_and_start_the_cygwin_ssh_server_daemon_code_sshd_code">To Configure and Start the Cygwin SSH Server Daemon <code>sshd</code></h4>
<div id="GSHAG322" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the following prerequisites are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A user account is created for each user that will log in to the host
through SSH.</p>
</li>
<li>
<p>A password is set for each user account.<br>
The SSH server daemon <code>sshd</code> disallows authentication of any user for
whose account a password is not set.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Double-click the Cygwin icon.<br>
A Cygwin terminal is started.</p>
</li>
<li>
<p>If necessary, set the password for your user account.</p>
</li>
<li>
<p>Run the <code>passwd</code> command as follows:<br></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ passwd user-name</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">user-name</dt>
<dd>
<p>The user name for your account.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Type a password.<br>
The password for your Windows account is also set.</p>
</li>
<li>
<p>Configure SSH on the host.</p>
</li>
<li>
<p>Run the <code>ssh-host-config</code> command.<br></p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ ssh-host-config</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Tip:</p>
</div>
<div class="paragraph">
<p>If you are using Windows XP, specify the <code>-y</code> option of
<code>ssh-host-config</code> to answer <code>yes</code> to all prompts. If you run
<code>ssh-host-config</code> with the <code>-y</code> option, omit Step <a href="#gkuat">b</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="gkuat"></a>
Ensure that the <code>StrictModes</code> and <code>PubkeyAuthentication</code> options are set
to <code>yes</code> in the file <code>/etc/ssh_config</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The file <code>/etc/ssh_config</code> can also be accessed as
<code>/cygdrive/c/cygwin/etc/sshd_config</code>.
4.  Start the SSH server daemon <code>sshd</code>.<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ net start sshd</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Confirm that the SSH server daemon <code>sshd</code> is running.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cygrunsrv --query sshd
 Service             : sshd
 Display name        : CYGWIN sshd
 Current State       : Running
 Controls Accepted   : Stop
 Command             : /usr/sbin/sshd -D</pre>
</div>
</div>
<div id="GSHAG323" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>After you have completed the setup of SSH on a host, test the setup on
the host as explained in <a href="#gkslw">Testing the SSH Setup on a Host</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkskf"></a><a id="GSHAG00174"></a><a id="setting-up-the-mks-toolkit-on-windows"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_the_mks_toolkit_on_windows">Setting Up the MKS Toolkit on Windows</h3>
<div class="paragraph">
<p>Set up the MKS Toolkit on the DAS host and on all hosts where instances
in your cluster will reside.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksmq">To Install the MKS Toolkit</a></p>
</li>
<li>
<p><a href="#gksmu">To Set the Path for Windows and for the MKS Toolkit Shell</a></p>
</li>
<li>
<p><a href="#gksox">To Set the Home Directory for the MKS Toolkit SSH User</a></p>
</li>
<li>
<p><a href="#gksnx">To Configure and Start the MKS Toolkit SSH Server Daemon
<code>sshd</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gksmq"></a><a id="GSHAG00075"></a><a id="to-install-the-mks-toolkit"></a></p>
</div>
<div class="sect3">
<h4 id="_to_install_the_mks_toolkit">To Install the MKS Toolkit</h4>
<div class="paragraph">
<p>For centralized GlassFish Server administration, the default
installation of the MKS Toolkit is sufficient.</p>
</div>
<div class="paragraph">
<p>Follow the instructions in the MKS Toolkit product documentation to
install OpenSSH from the MKS Toolkit with default installation options.</p>
</div>
<div id="GSHAG324" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>For detailed information about installing MKS Toolkit, see
"http://www.mkssoftware.com/docs/rn/relnotes_tk94.asp#install[Installing
MKS Toolkit]" in MKS Toolkit v9.4 Release Notes
(<code>http://www.mkssoftware.com/docs/rn/relnotes_tk94.asp#install</code>).</p>
</div>
<div class="paragraph">
<p><a id="gksmu"></a><a id="GSHAG00076"></a><a id="to-set-the-path-for-windows-and-for-the-mks-toolkit-shell"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_the_path_for_windows_and_for_the_mks_toolkit_shell">To Set the Path for Windows and for the MKS Toolkit Shell</h4>
<div class="paragraph">
<p>To enable GlassFish Server tools to find commands for SSH, each user&#8217;s
path for Windows and for the MKS Toolkit shell must contain the
following directories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The MKS Toolkit <code>bin</code> directory, for example
<code>C:\Program Files\MKS Toolkit\mksnt</code></p>
</li>
<li>
<p>The <code>bin</code> directory of the JDK software</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The MKS Toolkit installer automatically adds the MKS Toolkit <code>bin</code>
directory to the path. However, you must add the <code>bin</code> directory of the
JDK software to the path yourself.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in as a user with Administrator privileges.<br>
Logging in as a user with Administrator privileges ensures that the
change applies to all users.</p>
</li>
<li>
<p>In the System Information control panel, click Advanced&gt;Environment
Variables.</p>
</li>
<li>
<p>Add the <code>bin</code> directory of the JDK software to the Path environment
variable.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="gksox"></a><a id="GSHAG00077"></a><a id="to-set-the-home-directory-for-the-mks-toolkit-ssh-user"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_the_home_directory_for_the_mks_toolkit_ssh_user">To Set the Home Directory for the MKS Toolkit SSH User</h4>
<div class="paragraph">
<p>The SSH Server Daemon <code>sshd</code> locates a user&#8217;s home directory from the
configuration in the user database, not from environment variables such
as <code>HOME</code>. To ensure that all GlassFish Server commands can run without
errors, each SSH user must be configured to have a home directory.</p>
</div>
<div class="paragraph">
<p>Each user on a Windows host where SSH is set up potentially has two home
directories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Windows home directory. GlassFish Server commands, which are run in a
Windows command window, use the Windows home directory.</p>
</li>
<li>
<p>SSH home directory. SSH commands, which are run in a shell such as
<code>bash</code> or <code>ksh</code>, use the SSH home directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If these home directories are different, GlassFish Server and SSH each
locate a user&#8217;s <code>.ssh</code> directory in different directories. To simplify
the set up of SSH, configure each user&#8217;s home directory for SSH and
Windows to be the same directory. A disadvantage of this approach is
that the SSH home directory has spaces in its path name. Spaces in path
names are cumbersome in the UNIX environment.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="gkslo"></a>
Compare the pairs of settings for Windows and the MKS Toolkit that are
listed in the following table.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Windows Environment Variable</th>
<th class="tableblock halign-left valign-top">MKS Toolkit Field</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HOMEPATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Home Directory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HOMEDRIVE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Home Directory Drive</p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In a Windows command window, determine the values of the <code>HOMEPATH</code>
and <code>HOMEDRIVE</code> environment variables.</p>
</li>
<li>
<p>In an MKS Toolkit shell, determine the current settings of the Home
Directory and Home Directory Drive fields for the user.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ userinfo user-name</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">user-name</dt>
<dd>
<p>The user name for the user whose home directory you are setting, for
example <code>Administrator</code>.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the settings do not match, update setting of each MKS Toolkit
field to match its corresponding Windows environment variable.<br>
If the settings match, no further action is required.<br>
To update the settings, run the following command in an MKS Toolkit
shell:<br></p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ userinfo -u -fHomeDirDrive:"drive" -fHomeDir:"path" user-name</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">drive</dt>
<dd>
<p>The drive identifier of the disk drive on which the user&#8217;s Windows
home directory resides, for example, <code>C:</code>.</p>
</dd>
<dt class="hdlist1">path</dt>
<dd>
<p>The path to the user&#8217;s Windows home directory, for example,
<code>\Documents and Settings\Administrator</code>.</p>
</dd>
<dt class="hdlist1">user-name</dt>
<dd>
<p>The user name for the user whose home directory you are setting, for
example <code>Administrator</code>.<br></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Do not set the <code>HOME</code> environment variable explicitly. If Home Directory
and Home Directory Drive are set correctly, the <code>HOME</code> environment
variable specifies the correct path by default.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In an MKS Toolkit shell, confirm that the settings were updated.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ userinfo user-name</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">user-name</dt>
<dd>
<p>The user name for the user whose home directory you are setting, for
example <code>Administrator</code>.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log out of the host and log in to the host again.</p>
</li>
<li>
<p>Confirm that the home directories are the same as explained in
Step <a href="#gkslo">1</a>.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="GSHAG00014"></a><a id="gksnj"></a></p>
</div>
<div class="paragraph">
<p>Example 2-3 Setting the Home Directory for the MKS Toolkit User</p>
</div>
<div class="paragraph">
<p>This example sets the home directory for the MKS Toolkit user
<code>Administrator</code> to <code>C:\Documents and Settings\Administrator</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ userinfo -u -fHomeDirDrive:"C:"
-fHomeDir:"\Documents and Settings\Administrator" Administrator</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gksnx"></a><a id="GSHAG00078"></a><a id="to-configure-and-start-the-mks-toolkit-ssh-server-daemon-sshd"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_configure_and_start_the_mks_toolkit_ssh_server_daemon_code_sshd_code">To Configure and Start the MKS Toolkit SSH Server Daemon <code>sshd</code></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Do not set the command shell to <code>cmd.exe</code>. The use of SSH for
centralized GlassFish Server administration requires a shell in the
style of a UNIX shell.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From the Programs menu, choose MKS
Toolkit&gt;Configuration&gt;Configuration Information.</p>
</li>
<li>
<p>Enable password authentication and strict modes.</p>
</li>
<li>
<p>Click the Secure Shell Service tab.</p>
</li>
<li>
<p>Select the Password Authentication option.</p>
</li>
<li>
<p>Click Advanced settings.</p>
</li>
<li>
<p>Click the Login tab.</p>
</li>
<li>
<p>Deselect the Strict Modes option.</p>
</li>
<li>
<p>If you are using SSH key-file authentication, enable <code>MKSAUTH</code>
password authentication.</p>
</li>
<li>
<p>Click the Authentication tab.</p>
</li>
<li>
<p>Under Enable/Disable Password using MKSAUTH, type the user&#8217;s
password and click the Enable.</p>
</li>
<li>
<p>Start the SSH server daemon <code>sshd</code>.</p>
</li>
<li>
<p>Confirm that the SSH server daemon <code>sshd</code> is running.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ service query MKSSecureSH
Name:           MKS Secure Shell Service
Service Type:   WIN32_OWN_PROCESS
Current State:  RUNNING
Controls Accepted:      ACCEPT_STOP
Check Point:    0
Wait Hint:      0
Start Type:     AUTO_START
Error Control:  IGNORE
Path:           "C:\Program Files\MKS Toolkit\bin\secshd.exe"
Dependency:     NuTCRACKERService
Dependency:     tcpip
Service Start Name:     LocalSystem</pre>
</div>
</div>
<div id="GSHAG325" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>After you have completed the setup of SSH on a host, test the setup on
the host as explained in <a href="#gkslw">Testing the SSH Setup on a Host</a>.</p>
</div>
<div class="paragraph">
<p><a id="gksja"></a><a id="GSHAG00175"></a><a id="setting-up-ssh-on-unix-and-linux-systems"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_ssh_on_unix_and_linux_systems">Setting Up SSH on UNIX and Linux Systems</h3>
<div class="paragraph">
<p>Setting up SSH on UNIX and Linux systems involves verifying that the SSH
server daemon <code>sshd</code> is running and, if necessary, starting this daemon.
Set up SSH on the DAS host and on all hosts where instances in your
cluster will reside.</p>
</div>
<div class="paragraph">
<p>On UNIX and Linux systems, SSH software is typically installed as part
of the base operating system. If SSH is not installed, download and
install the appropriate <a href="http://www.openssh.com/">OpenSSH</a>
(<code>http://www.openssh.com/</code>) SSH package for your operating system.</p>
</div>
<div class="paragraph">
<p>How to set up SSH on UNIX and Linux systems depends on the flavor of the
operating system that you are running, as explained in the following
sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksjx">To Set Up SSH on Oracle Solaris Systems</a></p>
</li>
<li>
<p><a href="#gkspz">To Set Up SSH on MacOS Systems</a></p>
</li>
<li>
<p><a href="#gksrd">To Set Up SSH on Linux systems</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gksjx"></a><a id="GSHAG00079"></a><a id="to-set-up-ssh-on-oracle-solaris-systems"></a></p>
</div>
<div class="sect3">
<h4 id="_to_set_up_ssh_on_oracle_solaris_systems">To Set Up SSH on Oracle Solaris Systems</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the following options in the configuration file
<code>/etc/ssh/sshd_config</code> are set to <code>yes</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>StrictModes</code></p>
</li>
<li>
<p><code>PubkeyAuthentication</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Determine if the SSH server daemon <code>sshd</code> is running.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ /usr/bin/svcs ssh</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the SSH server daemon <code>sshd</code> is not running, start this daemon.<br>
If the daemon is running, no further action is required.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ /usr/sbin/svcadm enable ssh</pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSHAG00015"></a><a id="gkspo"></a></p>
</div>
<div class="paragraph">
<p>Example 2-4 Determining if the <code>sshd</code> Daemon Is Running on an Oracle
Solaris System</p>
</div>
<div class="paragraph">
<p>This example confirms that the SSH server daemon <code>sshd</code> is running on an
Oracle Solaris system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ /usr/bin/svcs ssh
STATE          STIME    FMRI
online         Jul_06   svc:/network/ssh:default</code></pre>
</div>
</div>
<div id="GSHAG326" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p><a href="http://www.oracle.com/pls/topic/lookup?ctx=E18752&amp;id=REFMAN1svcs-1"><code>svcs</code>(1)</a></p>
</div>
<div id="GSHAG327" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>After you have completed the setup of SSH on a host, test the setup on
the host as explained in <a href="#gkslw">Testing the SSH Setup on a Host</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkspz"></a><a id="GSHAG00080"></a><a id="to-set-up-ssh-on-macos-systems"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_up_ssh_on_macos_systems">To Set Up SSH on MacOS Systems</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open System Preferences and click Sharing.<br>
The Sharing window opens.</p>
</li>
<li>
<p>Ensure that Remote Login is selected in the Service list.</p>
</li>
<li>
<p>Ensure that either of the following is allowed access:</p>
<div class="ulist">
<ul>
<li>
<p>All Users</p>
</li>
<li>
<p>The user that running the DAS or instance</p>
</li>
</ul>
</div>
</li>
<li>
<p>(MacOS 10.6 systems only) Ensure that the SSH server daemon <code>sshd</code>
allows password authentication.<br>
On MacOS 10.5 systems, the SSH server daemon <code>sshd</code> allows password
authentication by default. However, on MacOS 10.6 systems, the SSH
server daemon <code>sshd</code> disallows password authentication by default.</p>
</li>
<li>
<p>Edit the configuration file <code>/etc/sshd_config</code> to set the
<code>PasswordAuthentication</code> option to <code>yes</code>.</p>
</li>
<li>
<p>Stop the SSH server daemon <code>sshd</code>.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo launchctl stop com.openssh.sshd</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the SSH server daemon <code>sshd</code>.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo launchctl start com.openssh.sshd</pre>
</div>
</div>
<div id="GSHAG328" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>After you have completed the setup of SSH on a host, test the setup on
the host as explained in <a href="#gkslw">Testing the SSH Setup on a Host</a>.</p>
</div>
<div class="paragraph">
<p><a id="gksrd"></a><a id="GSHAG00081"></a><a id="to-set-up-ssh-on-linux-systems"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_up_ssh_on_linux_systems">To Set Up SSH on Linux systems</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the following options in the configuration file
<code>/etc/ssh/sshd_config</code> are set to <code>yes</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>StrictModes</code></p>
</li>
<li>
<p><code>PubkeyAuthentication</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Determine if the SSH server daemon <code>sshd</code> is running.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ /sbin/service sshd status</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the SSH server daemon <code>sshd</code> is not running, start this daemon.<br>
If the daemon is running, no further action is required.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ /sbin/service sshd start</pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSHAG00016"></a><a id="gkssf"></a></p>
</div>
<div class="paragraph">
<p>Example 2-5 Determining if the <code>sshd</code> Daemon Is Running on a Linux
System</p>
</div>
<div class="paragraph">
<p>This example confirms that the SSH server daemon <code>sshd</code> is running on a
Linux system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ /sbin/service sshd status
openssh-daemon (pid  2373) is running...</code></pre>
</div>
</div>
<div id="GSHAG329" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>After you have completed the setup of SSH on a host, test the setup on
the host as explained in <a href="#gkslw">Testing the SSH Setup on a Host</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkslw"></a><a id="GSHAG00176"></a><a id="testing-the-ssh-setup-on-a-host"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_testing_the_ssh_setup_on_a_host">Testing the SSH Setup on a Host</h3>
<div class="paragraph">
<p>After setting up SSH on a host, test the setup to ensure that you can
use SSH to contact the host from another host. Testing the SSH setup on
a host verifies that the SSH server daemon <code>sshd</code> is running and that
the SSH user has a valid user account on the host.</p>
</div>
<div class="paragraph">
<p>If you cannot use SSH to contact the host, troubleshoot the SSH setup
before setting up SSH user authentication.</p>
</div>
<div class="paragraph">
<p><a id="gkskk"></a><a id="GSHAG00082"></a><a id="to-test-the-ssh-setup-on-a-host"></a></p>
</div>
<div class="sect3">
<h4 id="_to_test_the_ssh_setup_on_a_host">To Test the SSH Setup on a Host</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From another host, use SSH to log in into the host that you are
testing as the SSH user.<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ssh -l user-name host-name</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">user-name</dt>
<dd>
<p>The user name for the SSH user&#8217;s account on the host.</p>
</dd>
<dt class="hdlist1">host-name</dt>
<dd>
<p>The host name of the host that you are logging in to.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In response to the prompt, type your password.<br>
If this step succeeds, your setup of SSH is complete.<br>
The first time that you connect to a host, you might be warned that the
authenticity cannot be established and be asked if you want to continue
connection. If you trust the host, answer <code>yes</code> to connect to the host.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div id="GSHAG330" class="paragraph">
<p>Troubleshooting</p>
</div>
<div class="paragraph">
<p>To obtain diagnostic information, use the <code>-v</code> option of the
command-line SSH client and the <code>-d</code> option of the SSH server daemon
<code>sshd</code>. How to start the SSH server daemon <code>sshd</code> manually depends on
the operating system and SSH provider that you are using.</p>
</div>
<div class="paragraph">
<p>If the SSH server daemon <code>sshd</code> is set up on a host that has a firewall,
ensure that a rule is defined to allow inbound traffic on the SSH port.
The default SSH port is port 22.</p>
</div>
<div class="paragraph">
<p>If your connection is refused, the SSH server daemon <code>sshd</code> is not
running and you must start the daemon. For instructions, see the
following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gkskx">To Configure and Start the Cygwin SSH Server Daemon
<code>sshd</code></a></p>
</li>
<li>
<p><a href="#gksnx">To Configure and Start the MKS Toolkit SSH Server Daemon
<code>sshd</code></a></p>
</li>
<li>
<p><a href="#gksjx">To Set Up SSH on Oracle Solaris Systems</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If your connection is accepted, but you cannot log in, ensure that the
SSH user has a valid user account on the host.</p>
</div>
<div id="GSHAG331" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>After testing the SSH setup, set up SSH user authentication to enable
SSH to authenticate users without prompting for a password. For more
information, see <a href="#gkshh">Setting Up SSH User Authentication</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkshh"></a><a id="GSHAG00177"></a><a id="setting-up-ssh-user-authentication"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_ssh_user_authentication">Setting Up SSH User Authentication</h3>
<div class="paragraph">
<p>When a GlassFish Server subcommand uses SSH to log in to a remote host,
GlassFish Server must be able to authenticate the SSH user. Setting up
SSH user authentication ensures that this requirement is met.</p>
</div>
<div class="paragraph">
<p>Before setting up SSH user authentication, determine the authentication
scheme to use. If SSH is already deployed at your site, the
authentication scheme to use might already be chosen for you.</p>
</div>
<div class="paragraph">
<p>The following table lists the authentication schemes that GlassFish
Server supports. The table also lists the advantages and disadvantages
of each authentication scheme.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Authentication Scheme</th>
<th class="tableblock halign-left valign-top">Advantages</th>
<th class="tableblock halign-left valign-top">Disadvantages</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public key without encryption</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlassFish Server provides tools to
simplify set up.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH must be configured to locate users' key files in
the correct location. File access permissions for key files and the
directory that contains the key files must be set correctly.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public key with passphrase-protected encryption</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This scheme is more
secure than public key authentication without encryption.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH must be
configured to locate users' key files in the correct location. File
access permissions for key files and the directory that contains the key
files must be set correctly. For each SSH user, GlassFish Server
password aliases are required for the encryption passphrase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No SSH configuration is required to locate key files or to
ensure that file access permissions are correct.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each SSH user,
GlassFish Server password aliases are required for the SSH password.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksqe">To Set Up Public Key Authentication Without Encryption</a></p>
</li>
<li>
<p><a href="#gktaq">To Set Up Encrypted Public Key Authentication</a></p>
</li>
<li>
<p><a href="#gktbd">To Set Up Password Authentication</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gksqe"></a><a id="GSHAG00083"></a><a id="to-set-up-public-key-authentication-without-encryption"></a></p>
</div>
<div class="sect3">
<h4 id="_to_set_up_public_key_authentication_without_encryption">To Set Up Public Key Authentication Without Encryption</h4>
<div class="paragraph">
<p>Use the <code>setup-ssh</code> subcommand in local mode to set up public key
authentication without encryption. This subcommand enables you to set up
public key authentication on multiple hosts in a single operation.</p>
</div>
<div class="paragraph">
<p>The <code>setup-ssh</code> subcommand generates a key pair and distributes the
public key file to specified hosts. The private key file and the public
key file are protected only by the file system&#8217;s file access
permissions. If you require additional security, set up public key
authentication with passphrase-protected encryption as explained in
<a href="#gktaq">To Set Up Encrypted Public Key Authentication</a>.</p>
</div>
<div id="GSHAG332" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the following prerequisites are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SSH is set up on each host where you are setting up public key
authentication. For more information, see the following sections:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#gksiy">Setting Up Cygwin SSH on Windows</a></p>
</li>
<li>
<p><a href="#gkskf">Setting Up the MKS Toolkit on Windows</a></p>
</li>
<li>
<p><a href="#gksja">Setting Up SSH on UNIX and Linux Systems</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Only the SSH user has write access to the following files and
directories on each host where you are setting up public key
authentication:</p>
<div class="ulist">
<ul>
<li>
<p>The SSH user&#8217;s home directory</p>
</li>
<li>
<p>The <code>~/.ssh</code> directory</p>
</li>
<li>
<p>The <code>authorized_key</code> file<br>
If other users can write to these files and directories, the secure
service might not trust the <code>authorized_key</code> file and might disallow
public key authentication.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate an SSH key pair and distribute the public key file to the
hosts where you are setting up public key authentication.<br></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for setting up an SSH
key, see the <a href="../reference-manual/setup-ssh.html#GSRFM00229"><code>setup-ssh</code>(1)</a> help page.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; setup-ssh [--sshuser sshuser] host-list</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">sshuser</dt>
<dd>
<p>The SSH user for which you are generating the SSH key pair. If you are
running the subcommand as the SSH user, you may omit this option.</p>
</dd>
<dt class="hdlist1">host-list</dt>
<dd>
<p>  A space-separated list of the names of the hosts where the SSH public
  key is to be distributed.<br>
After generating the SSH key pair, the subcommand uses SSH to log in to
each host in host-list as the SSH user to distribute the public key.
Each time a password is required to log in to a host, you are prompted
for the SSH user&#8217;s password.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In response to each prompt for a password, type the SSH user&#8217;s
password.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="GSHAG00017"></a><a id="gktat"></a></p>
</div>
<div class="paragraph">
<p>Example 2-6 Setting Up Public Key Authentication Without Encryption</p>
</div>
<div class="paragraph">
<p>This example generates and sets up an SSH key for the user <code>gfuser</code> on
the hosts <code>sua01</code> and <code>sua02</code>. The command is run by the user <code>gfuser</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; setup-ssh --generatekey=true sua01 sua02
Enter SSH password for gfuser@sua01&gt;
Created directory /home/gfuser/.ssh
/usr/bin/ssh-keygen successfully generated the identification /home/gfuser/.ssh/id_rsa
Copied keyfile /home/gfuser/.ssh/id_rsa.pub to gfuser@sua01
Successfully connected to gfuser@sua01 using keyfile /home/gfuser/.ssh/id_rsa
Copied keyfile /home/gfuser/.ssh/id_rsa.pub to gfuser@sua02
Successfully connected to gfuser@sua02 using keyfile /home/gfuser/.ssh/id_rsa
Command setup-ssh executed successfully.</code></pre>
</div>
</div>
<div id="GSHAG333" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>After setting up public key authentication, test the setup by using
<code>ssh</code> to log in as the SSH user to each host where the public key was
distributed. For each host, log in first with the unqualified host name
and then with the fully qualified name. If SSH does not prompt for
password, public key authentication is set up correctly on the host.</p>
</div>
<div class="paragraph">
<p>If you are prompted for a password, verify that the public key file was
copied correctly to the SSH user&#8217;s <code>authorized_keys</code> file.</p>
</div>
<div id="GSHAG334" class="paragraph">
<p>Troubleshooting</p>
</div>
<div class="paragraph">
<p>Setup might fail because file access permissions in the SSH user&#8217;s home
directory are too permissive. In this situation, ensure that the file
access permissions in the SSH user&#8217;s home directory meet the
requirements for performing this procedure.</p>
</div>
<div class="paragraph">
<p>If you have set the file access permissions in the SSH user&#8217;s home
directory correctly, setup might still fail if you are using the MKS
Toolkit. In this situation, correct the problem in one of the following
ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On each remote host, copy the public key file to the SSH user&#8217;s
<code>~/.ssh</code> directory and import the file. To import the file, select the
Secure Service tab in the MKS configuration GUI and click Passwordless.</p>
</li>
<li>
<p>Disable strict modes.</p>
</li>
</ul>
</div>
<div id="GSHAG335" class="paragraph">
<p>See Also</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksiy">Setting Up Cygwin SSH on Windows</a></p>
</li>
<li>
<p><a href="#gkskf">Setting Up the MKS Toolkit on Windows</a></p>
</li>
<li>
<p><a href="#gksja">Setting Up SSH on UNIX and Linux Systems</a></p>
</li>
<li>
<p><a href="../reference-manual/setup-ssh.html#GSRFM00229"><code>setup-ssh</code>(1)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also view the full syntax and options of the subcommand by
typing <code>asadmin help setup-ssh</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gktaq"></a><a id="GSHAG00084"></a><a id="to-set-up-encrypted-public-key-authentication"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_up_encrypted_public_key_authentication">To Set Up Encrypted Public Key Authentication</h4>
<div class="paragraph">
<p>Encrypted key file authentication uses an encrypted private key file
that is protected with a passphrase. This passphrase must be provided to
use the private key to unlock the public key. If you require encrypted
public key authentication, you must use the SSH utility <code>ssh-keygen</code> to
generate an SSH key pair with an encrypted private key. You can then use
the <code>setup-ssh</code> subcommand to distribute the public key file to
specified hosts.</p>
</div>
<div class="paragraph">
<p>To use the encrypted key file, GlassFish Server requires the passphrase
with which the key file was encrypted. To provide this passphrase
securely to GlassFish Server, create a GlassFish Server password alias
to represent the passphrase and store this alias in a password file that
is passed to the <a href="../reference-manual/asadmin.html#GSRFM00263"><code>asadmin</code></a> utility.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
each step. For information about all the options for the commands and
subcommands in this task, see their help pages or man pages.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="GSHAG336" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the following prerequisites are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SSH is set up on each host where you are setting up public key
authentication. For more information, see the following sections:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#gksiy">Setting Up Cygwin SSH on Windows</a></p>
</li>
<li>
<p><a href="#gkskf">Setting Up the MKS Toolkit on Windows</a></p>
</li>
<li>
<p><a href="#gksja">Setting Up SSH on UNIX and Linux Systems</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Only the SSH user has write access to the following files and
directories on each host where you are setting up public key
authentication:</p>
<div class="ulist">
<ul>
<li>
<p>The SSH user&#8217;s home directory</p>
</li>
<li>
<p>The <code>~/.ssh</code> directory</p>
</li>
<li>
<p>The <code>authorized_key</code> file<br>
If other users can write to these files and directories, the secure
service might not trust the <code>authorized_key</code> file and might disallow
public key authentication.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate an SSH key pair with an encrypted private key file.<br>
Use the SSH utility
<a href="http://www.oracle.com/pls/topic/lookup?ctx=E18752&amp;id=REFMAN1ssh-keygen-1"><code>ssh-keygen</code></a>
for this purpose.<br></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ssh-keygen -t type</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">type</dt>
<dd>
<p>  The algorithm that is to be used for the key and which must be <code>rsa</code>,
  <code>dsa</code>, or <code>rsa1</code>.<br>
The <code>ssh-keygen</code> utility prompts you for a file in which to save the
key.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To simplify the distribution of the key file, accept the default
file.<br>
The <code>ssh-keygen</code> utility prompts you for a passphrase.</p>
</li>
<li>
<p><a id="gktbh"></a>
In response to the prompt, type your choice of passphrase for encrypting
the private key file.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>ssh-keygen</code> utility prompts you to type the passphrase again.
4.  In response to the prompt, type the passphrase that you set in
Step <a href="#gktbh">3</a>.
5.  Distribute the public key file to the hosts where you are setting up
public key authentication.<br>
Use the <a href="../reference-manual/setup-ssh.html#GSRFM00229"><code>setup-ssh</code></a> <code>asadmin</code> subcommand for this
purpose.<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ asadmin setup-ssh --generatekey=false host-list</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">host-list</dt>
<dd>
<p>  A space-separated list of the names of the hosts where the SSH public
  key is to be distributed.<br>
The subcommand uses SSH to log in to each host in host-list as the SSH
user to distribute the public key. Each time a passphrase or a password
is required to log in to a host, you are prompted for the passphrase or
the SSH user&#8217;s password.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In response to each prompt, type the requested information.</p>
<div class="ulist">
<ul>
<li>
<p>In response to each prompt for a passphrase, type the passphrase that
you set in Step <a href="#gktbh">3</a>.</p>
</li>
<li>
<p>In response to each prompt for a password, type the SSH user&#8217;s
password.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a id="gktbm"></a>
Create a GlassFish Server password alias for the passphrase that you set
in Step <a href="#gktbh">3</a>.</p>
</li>
<li>
<p>Ensure that the DAS is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p>Run the <a href="../reference-manual/create-password-alias.html#GSRFM00049"><code>create-password-alias</code></a> <code>asadmin</code>
subcommand.<br></p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ asadmin create-password-alias alias-name</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">alias-name</dt>
<dd>
<p>  Your choice of name for the alias that you are creating.<br>
The <code>create-password-alias</code> subcommand prompts you to type the
passphrase for which you are creating an alias.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In response to the prompt, type the passphrase that you set in
Step <a href="#gktbh">3</a>.<br>
The <code>create-password-alias</code> subcommand prompts you to type the
passphrase again.</p>
</li>
<li>
<p>In response to the prompt, type the passphrase that you set in
Step <a href="#gktbh">3</a> again.</p>
</li>
<li>
<p>Create a plain text file that contains the following entry for the
passphrase alias:<br></p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">AS_ADMIN_SSHKEYPASSPHRASE=${ALIAS=alias-name}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">alias-name</dt>
<dd>
<p>The alias name that you specified in Step <a href="#gktbm">7</a>.<br></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>When you create an <code>SSH</code> node, pass this file as the <code>--passwordfile</code>
option of the <code>asadmin</code> utility. For more information, see
<a href="nodes.html#gkrnf">To Create an <code>SSH</code> Node</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="GSHAG00018"></a><a id="gktav"></a></p>
</div>
<div class="paragraph">
<p>Example 2-7 Setting Up Encrypted Public Key Authentication</p>
</div>
<div class="paragraph">
<p>This example generates an SSH key pair with an encrypted private key for
the user <code>gfadmin</code> and distributes the public key to the hosts <code>sj01</code>
and <code>ja02</code>. The example also creates an alias that is named
<code>ssh-key-passphrase</code> for the private key&#8217;s passphrase.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/home/gfadmin/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/gfadmin/.ssh/id_rsa.
Your public key has been saved in /home/gfadmin/.ssh/id_rsa.pub.
The key fingerprint is:
db:b5:f6:0d:fe:16:33:91:20:64:90:1a:84:66:f5:d0 gfadmin@dashost
$ asadmin setup-ssh --generatekey=false sj01 sj02
Key /home/gfadmin/.ssh/id_rsa is encrypted
Enter key passphrase&gt;
Enter SSH password for gfadmin@sj01&gt;
Copied keyfile /home/gfadmin/.ssh/id_rsa.pub to gfadmin@sj01
Successfully connected to gfadmin@sj01 using keyfile /home/gfadmin/.ssh/id_rsa
Successfully connected to gfadmin@sj02 using keyfile /home/gfadmin/.ssh/id_rsa
SSH public key authentication is already configured for gfadmin@sj02
Command setup-ssh executed successfully.
$ asadmin create-password-alias ssh-key-passphrase
Enter the alias password&gt;
Enter the alias password again&gt;
Command create-password-alias executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The entry in the password file for the <code>ssh-key-passphrase</code> alias is as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">AS_ADMIN_SSHKEYPASSPHRASE=${ALIAS=ssh-key-passphrase}</code></pre>
</div>
</div>
<div id="GSHAG337" class="paragraph">
<p>Troubleshooting</p>
</div>
<div class="paragraph">
<p>Setup might fail because file access permissions in the SSH user&#8217;s home
directory are too permissive. In this situation, ensure that the file
access permissions in the SSH user&#8217;s home directory meet the
requirements for performing this procedure.</p>
</div>
<div class="paragraph">
<p>If you have set the file access permissions in the SSH user&#8217;s home
directory correctly, setup might still fail if you are using the MKS
Toolkit. In this situation, correct the problem in one of the following
ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On each remote host, copy the public key file to the SSH user&#8217;s
<code>~/.ssh</code> directory and import the file. To import the file, select the
Secure Service tab in the MKS configuration GUI and click Passwordless.</p>
</li>
<li>
<p>Disable strict modes.</p>
</li>
</ul>
</div>
<div id="GSHAG338" class="paragraph">
<p>See Also</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksiy">Setting Up Cygwin SSH on Windows</a></p>
</li>
<li>
<p><a href="#gkskf">Setting Up the MKS Toolkit on Windows</a></p>
</li>
<li>
<p><a href="#gksja">Setting Up SSH on UNIX and Linux Systems</a></p>
</li>
<li>
<p><a href="../reference-manual/asadmin.html#GSRFM00263"><code>asadmin</code>(1M)</a></p>
</li>
<li>
<p><a href="../reference-manual/create-password-alias.html#GSRFM00049"><code>create-password-alias</code>(1)</a></p>
</li>
<li>
<p><a href="../reference-manual/setup-ssh.html#GSRFM00229"><code>setup-ssh</code>(1)</a></p>
</li>
<li>
<p><a href="http://www.oracle.com/pls/topic/lookup?ctx=E18752&amp;id=REFMAN1ssh-keygen-1"><code>ssh-keygen</code>(1)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also view the full syntax and options of the subcommands by
typing the following commands at the command line:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>asadmin help create-password-alias</code></p>
</li>
<li>
<p><code>asadmin help setup-ssh</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gktbd"></a><a id="GSHAG00085"></a><a id="to-set-up-password-authentication"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_set_up_password_authentication">To Set Up Password Authentication</h4>
<div class="paragraph">
<p>To use SSH to log in to a remote host, GlassFish Server requires the SSH
user&#8217;s password. To provide this password securely to GlassFish Server,
create a GlassFish Server password alias to represent the password and
store this alias in a password file that is passed to the
<a href="../reference-manual/asadmin.html#GSRFM00263"><code>asadmin</code></a> utility.</p>
</div>
<div id="GSHAG339" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that SSH is set up on each host where you are setting up password
authentication. For more information, see the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksiy">Setting Up Cygwin SSH on Windows</a></p>
</li>
<li>
<p><a href="#gkskf">Setting Up the MKS Toolkit on Windows</a></p>
</li>
<li>
<p><a href="#gksja">Setting Up SSH on UNIX and Linux Systems</a></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the DAS is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p><a id="gktbb"></a>
Create an alias for the SSH user&#8217;s password.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for creating a password
alias, see the <a href="../reference-manual/create-password-alias.html#GSRFM00049"><code>create-password-alias</code>(1)</a> help page.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; create-password-alias alias-name</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">alias-name</dt>
<dd>
<p>Your choice of name for the alias that you are creating.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>create-password-alias</code> subcommand prompts you to type the password
for which you are creating an alias.
3.  In response to the prompt, type the SSH user&#8217;s password.<br>
The <code>create-password-alias</code> subcommand prompts you to type the password
again.
4.  In response to the prompt, type the SSH user&#8217;s password again.
5.  Create a plain text file that contains the following entry for the
password alias:<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">AS_ADMIN_SSHPASSWORD=${ALIAS=alias-name}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">alias-name</dt>
<dd>
<p>The alias name that you specified in Step <a href="#gktbb">2</a>.<br></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>When you create an <code>SSH</code> node, pass this file as the <code>--passwordfile</code>
option of the <code>asadmin</code> utility. For more information, see
<a href="nodes.html#gkrnf">To Create an <code>SSH</code> Node</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="GSHAG00019"></a><a id="gktba"></a></p>
</div>
<div class="paragraph">
<p>Example 2-8 Creating an Alias for the SSH User&#8217;s Password</p>
</div>
<div class="paragraph">
<p>This example creates an alias that is named <code>ssh-password</code> for the SSH
user&#8217;s password.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">$ asadmin create-password-alias ssh-password
Enter the alias password&gt;
Enter the alias password again&gt;
Command create-password-alias executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The entry in the password file for the <code>ssh-password</code> alias is as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">AS_ADMIN_SSHPASSWORD=${ALIAS=ssh-password}</code></pre>
</div>
</div>
<div id="GSHAG340" class="paragraph">
<p>See Also</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksiy">Setting Up Cygwin SSH on Windows</a></p>
</li>
<li>
<p><a href="#gkskf">Setting Up the MKS Toolkit on Windows</a></p>
</li>
<li>
<p><a href="#gksja">Setting Up SSH on UNIX and Linux Systems</a></p>
</li>
<li>
<p><a href="../reference-manual/asadmin.html#GSRFM00263"><code>asadmin</code>(1M)</a></p>
</li>
<li>
<p><a href="../reference-manual/create-password-alias.html#GSRFM00049"><code>create-password-alias</code>(1)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also view the full syntax and options of the subcommand by
typing <code>asadmin help create-password-alias</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gkshn"></a><a id="GSHAG00178"></a><a id="installing-and-removing-glassfish-server-software-on-multiple-hosts"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_installing_and_removing_glassfish_server_software_on_multiple_hosts">Installing and Removing GlassFish Server Software on Multiple Hosts</h3>
<div class="paragraph">
<p>GlassFish Server software must be installed on all hosts where GlassFish
Server will run. How to install GlassFish Server software on multiple
hosts depends on the degree of control that you require over the
installation on each host.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you require complete control over the installation on each host,
install the software from a GlassFish Server distribution on each host
individually. For more information, see <a href="../installation-guide/toc.html#GSING">GlassFish Server
Open Source Edition Installation Guide</a>.</p>
</li>
<li>
<p>If the same set up on each host is acceptable, copy an existing
GlassFish Server installation to the hosts. For more information, see
<a href="#gksil">To Copy a GlassFish Server Installation to Multiple Hosts</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GlassFish Server also enables you to remove GlassFish Server software
from multiple hosts in a single operation. For more information, see
<a href="#gktaw">To Remove GlassFish Server Software From Multiple Hosts</a>.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksil">To Copy a GlassFish Server Installation to Multiple Hosts</a></p>
</li>
<li>
<p><a href="#gktaw">To Remove GlassFish Server Software From Multiple Hosts</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gksil"></a><a id="GSHAG00086"></a><a id="to-copy-a-glassfish-server-installation-to-multiple-hosts"></a></p>
</div>
<div class="sect3">
<h4 id="_to_copy_a_glassfish_server_installation_to_multiple_hosts">To Copy a GlassFish Server Installation to Multiple Hosts</h4>
<div class="paragraph">
<p>Use the <code>install-node-dcom</code> subcommand or the <code>install-node-ssh</code>
subcommand in local mode to copy an installation of GlassFish Server
software to multiple hosts.</p>
</div>
<div id="GSHAG341" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that DCOM or SSH is set up on the host where you are running the
subcommand and on each host where you are copying the GlassFish Server
software.</p>
</div>
<div class="paragraph">
<p>Run the appropriate subcommand for the protocol that is set up for
communication between the hosts.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If DCOM is set up for communication between the hosts, run the
<code>install-node-dcom</code> subcommand.<br></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for copying an
installation of GlassFish Server software, see the
<a href="../reference-manual/install-node-dcom.html#GSRFM626"><code>install-node-dcom</code>(1)</a> help page.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; install-node-dcom host-list</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">host-list</dt>
<dd>
<p>A space-separated list of the names of the hosts where you are copying
the installation of GlassFish Server software.</p>
<div class="ulist">
<ul>
<li>
<p>If SSH is set up for communication between the hosts, run the
<code>install-node-ssh</code> subcommand.<br></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for copying an
installation of GlassFish Server software, see the
<a href="../reference-manual/install-node-ssh.html#GSRFM628"><code>install-node-ssh</code>(1)</a> help page.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; install-node-ssh host-list</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">host-list</dt>
<dd>
<p>A space-separated list of the names of the hosts where you are copying
the installation of GlassFish Server software.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="GSHAG461"></a><a id="sthref9"></a></p>
</div>
<div class="paragraph">
<p>Example 2-9 Copying a GlassFish Server Installation to Multiple
DCOM-Enabled Hosts</p>
</div>
<div class="paragraph">
<p>This example copies the GlassFish Server software on the host where the
subcommand is run to the default location on the DCOM-enabled hosts
<code>wpmdl1.example.com</code> and <code>wpmdl2.example.com</code>.</p>
</div>
<div class="paragraph">
<p>Some lines of output are omitted from this example for readability.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; install-node-dcom wpmdl1.example.com wpmdl2.example.com
Created installation zip C:\glassfish8107276692860773166.zip
Copying 85760199 bytes..........................................................
....................................
WROTE FILE TO REMOTE SYSTEM: C:/glassfish3/glassfish_install.zip and C:/glassfish3/unpack.bat
Output from Windows Unpacker:

C:\Windows\system32&gt;C:

C:\Windows\system32&gt;cd "C:\glassfish3"

C:\glassfish3&gt;jar xvf glassfish_install.zip
 inflated: bin/asadmin
 inflated: bin/asadmin.bat
 inflated: glassfish/bin/appclient
 inflated: glassfish/bin/appclient.bat
 inflated: glassfish/bin/appclient.js
 inflated: glassfish/bin/asadmin
 inflated: glassfish/bin/asadmin.bat
...
 inflated: mq/lib/props/broker/default.properties
 inflated: mq/lib/props/broker/install.properties

Command install-node-dcom executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSHAG342"></a><a id="sthref10"></a></p>
</div>
<div class="paragraph">
<p>Example 2-10 Copying a GlassFish Server Installation to Multiple
SSH-Enabled Hosts</p>
</div>
<div class="paragraph">
<p>This example copies the GlassFish Server software on the host where the
subcommand is run to the default location on the SSH-enabled hosts
<code>sj03.example.com</code> and <code>sj04.example.com</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; install-node-ssh sj03.example.com sj04.example.com
Created installation zip /home/gfuser/glassfish2339538623689073993.zip
Successfully connected to gfuser@sj03.example.com using keyfile /home/gfuser
/.ssh/id_rsa
Copying /home/gfuser/glassfish2339538623689073993.zip (81395008 bytes) to
sj03.example.com:/export/glassfish3
Installing glassfish2339538623689073993.zip into sj03.example.com:/export/glassfish3
Removing sj03.example.com:/export/glassfish3/glassfish2339538623689073993.zip
Fixing file permissions of all files under sj03.example.com:/export/glassfish3/bin
Successfully connected to gfuser@sj04.example.com using keyfile /home/gfuser
/.ssh/id_rsa
Copying /home/gfuser/glassfish2339538623689073993.zip (81395008 bytes) to
sj04.example.com:/export/glassfish3
Installing glassfish2339538623689073993.zip into sj04.example.com:/export/glassfish3
Removing sj04.example.com:/export/glassfish3/glassfish2339538623689073993.zip
Fixing file permissions of all files under sj04.example.com:/export/glassfish3/bin
Command install-node-ssh executed successfully</code></pre>
</div>
</div>
<div id="GSHAG343" class="paragraph">
<p>See Also</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../reference-manual/install-node-dcom.html#GSRFM626"><code>install-node-dcom</code>(1)</a></p>
</li>
<li>
<p><a href="../reference-manual/install-node-ssh.html#GSRFM628"><code>install-node-ssh</code>(1)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also view the full syntax and options of the subcommands by
typing the following commands at the command line:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>asadmin help install-node-dcom</code></p>
</li>
<li>
<p><code>asadmin help install-node-ssh</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gktaw"></a><a id="GSHAG00087"></a><a id="to-remove-glassfish-server-software-from-multiple-hosts"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_to_remove_glassfish_server_software_from_multiple_hosts">To Remove GlassFish Server Software From Multiple Hosts</h4>
<div class="paragraph">
<p>Use the <code>uninstall-node-dcom</code> subcommand or the <code>uninstall-node-ssh</code>
subcommand in local mode to remove GlassFish Server software from
multiple hosts.</p>
</div>
<div id="GSHAG344" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the following prerequisites are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DCOM or SSH is set up on the host where you are running the subcommand
and on each host from which you are removing the GlassFish Server
software.</p>
</li>
<li>
<p>No process is accessing the parent of the base installation directory
for the GlassFish Server software or any subdirectory of this directory.</p>
</li>
<li>
<p>The parent of the base installation directory for the GlassFish Server
software is the same on each host from which you are removing the
GlassFish Server software.</p>
</li>
<li>
<p>For hosts that use DCOM for remote communication, the configuration of
the following items is the same on each host:</p>
<div class="ulist">
<ul>
<li>
<p>Windows Domain</p>
</li>
<li>
<p>Windows User</p>
</li>
</ul>
</div>
</li>
<li>
<p>For hosts that use SSH for remote communication, the configuration of
the following items is the same on each host:</p>
<div class="ulist">
<ul>
<li>
<p>SSH port</p>
</li>
<li>
<p>SSH user</p>
</li>
<li>
<p>SSH key file</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Run the appropriate subcommand for the protocol that is set up for
communication between the hosts.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If DCOM is set up for communication between the hosts, run the
<code>uninstall-node-dcom</code> subcommand.<br></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for removing GlassFish
Server software, see the <a href="../reference-manual/uninstall-node-dcom.html#GSRFM775"><code>uninstall-node-dcom</code>(1)</a> help
page.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; uninstall-node-dcom host-list</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">host-list</dt>
<dd>
<p>A space-separated list of the names of the hosts from which you are
removing GlassFish Server software.</p>
<div class="ulist">
<ul>
<li>
<p>If SSH is set up for communication between the hosts, run the
<code>uninstall-node-ssh</code> subcommand.<br></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for removing GlassFish
Server software, see the <a href="../reference-manual/uninstall-node-ssh.html#GSRFM778"><code>uninstall-node-ssh</code>(1)</a> help
page.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; uninstall-node-ssh host-list</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">host-list</dt>
<dd>
<p>A space-separated list of the names of the hosts from which you are
removing GlassFish Server software.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="GSHAG462"></a><a id="sthref11"></a></p>
</div>
<div class="paragraph">
<p>Example 2-11 Removing GlassFish Server Software From Multiple
DCO\M-Enabled Hosts</p>
</div>
<div class="paragraph">
<p>This example removes GlassFish Server software on the DCOM-enabled hosts
<code>wpmdl1.example.com</code> and <code>wpmdl2.example.com</code> from the default location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; uninstall-node-dcom wpmdl1 wpmdl2
Command uninstall-node-dcom executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSHAG345"></a><a id="sthref12"></a></p>
</div>
<div class="paragraph">
<p>Example 2-12 Removing GlassFish Server Software From Multiple
SSH-Enabled Hosts</p>
</div>
<div class="paragraph">
<p>This example removes GlassFish Server software on the SSH-enabled hosts
<code>sj03.example.com</code> and <code>sj04.example.com</code> from the default location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; uninstall-node-ssh sj03 sj04
Successfully connected to gfuser@sj03.example.com using keyfile /home/gfuser
/.ssh/id_rsa
Successfully connected to gfuser@sj04.example.com using keyfile /home/gfuser
/.ssh/id_rsa
Command uninstall-node-ssh executed successfully.</code></pre>
</div>
</div>
<div id="GSHAG346" class="paragraph">
<p>See Also</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../reference-manual/uninstall-node-dcom.html#GSRFM775"><code>uninstall-node-dcom</code>(1)</a></p>
</li>
<li>
<p><a href="../reference-manual/uninstall-node-ssh.html#GSRFM778"><code>uninstall-node-ssh</code>(1)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also view the full syntax and options of the subcommands by
typing the following commands at the command line:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>asadmin help uninstall-node-dcom</code></p>
</li>
<li>
<p><code>asadmin help uninstall-node-ssh</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="overview.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="nodes.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <img src="/img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

</body>
</html>